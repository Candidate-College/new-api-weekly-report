{
    "openapi": "3.0.0",
    "info": {
        "title": "Weekly Report API",
        "version": "1.0.0"
    },
    "paths": {
        "/api/reports/weekly": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get a user's weekly report",
                "description": "Fetches the weekly report for the authenticated user based on the specified week and month.",
                "operationId": "c7f6058d8da61ea69105dd665de95d9b",
                "parameters": [
                    {
                        "name": "week",
                        "in": "query",
                        "description": "The week number (1-4) within the month",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 4,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "month",
                        "in": "query",
                        "description": "The month number (1-12)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 12,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Weekly report retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid week number"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/daily": {
            "put": {
                "tags": [
                    "Reports"
                ],
                "summary": "Edit today's daily report",
                "description": "Allows the authenticated user to edit their daily report for the current day.",
                "operationId": "f3640a50c7f31444682c45ef7bdc87c5",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content_text"
                                ],
                                "properties": {
                                    "content_text": {
                                        "description": "Updated content of the daily report",
                                        "type": "string"
                                    },
                                    "content_photo": {
                                        "description": "Optional updated photo for the daily report",
                                        "type": "file"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Daily report updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No daily report found for today"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            },
            "post": {
                "tags": [
                    "Reports"
                ],
                "summary": "Create a daily report",
                "description": "Allows the authenticated user to submit a daily report, but only on weekdays (Monday to Friday).",
                "operationId": "6e2bc889034a16df4632559f5f503a2f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content_text"
                                ],
                                "properties": {
                                    "content_text": {
                                        "description": "The content of the daily report",
                                        "type": "string"
                                    },
                                    "content_photo": {
                                        "description": "Optional photo for the daily report",
                                        "type": "file"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Daily report created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Daily report submission restricted to weekdays"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Reports"
                ],
                "summary": "Delete today's daily report",
                "description": "Allows the authenticated user to delete their daily report for the current day.",
                "operationId": "6ac150774555f9164ee891072f21c0be",
                "responses": {
                    "200": {
                        "description": "Daily report deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "message": "Daily report deleted successfully"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No daily report found for today"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/check": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Check if a daily report is submitted for today",
                "description": "Checks if the authenticated user has already submitted a daily report for the current day.",
                "operationId": "95f9c295830236b4a8c4746e29495242",
                "responses": {
                    "200": {
                        "description": "Daily report check successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/staff": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get staff's daily reports for a specific week",
                "description": "Fetches the authenticated staff's daily reports within a specified week and month.",
                "operationId": "f4e59314309d401c5ace442ce4cf6b07",
                "parameters": [
                    {
                        "name": "week",
                        "in": "query",
                        "description": "The week number (1-5)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 5,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "month",
                        "in": "query",
                        "description": "The month number (1-12)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 12,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Staff daily reports retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/all": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get all staff daily reports for a specific week",
                "description": "Fetches all daily reports for the authenticated user's division within a specified week and month.",
                "operationId": "68019dded50bb1193d15c9b8e005f58e",
                "parameters": [
                    {
                        "name": "month",
                        "in": "query",
                        "description": "The month number (1-12)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 12,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "week",
                        "in": "query",
                        "description": "The week number (1-4)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 4,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "All daily reports retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/v1/auth/send-otp": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Send OTP",
                "description": "Sends an OTP to the user's registered email address for authentication.",
                "operationId": "a1c8b5f94752b5a86523665a4cc69c45",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    }
                                },
                                "required": [
                                    "email"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP sent successfully"
                    },
                    "400": {
                        "description": "Invalid email format"
                    },
                    "404": {
                        "description": "User not found"
                    }
                }
            }
        },
        "/api/v1/auth/verify-otp": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Verify OTP",
                "description": "Verifies the OTP entered by the user and authenticates them.",
                "operationId": "96b438b4a8200c251fd272119d34d13f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "otp": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "otp"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP verified successfully"
                    },
                    "400": {
                        "description": "Invalid OTP"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/v1/auth/reset-password": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Reset Password",
                "description": "Allows the user to reset their password using the OTP verification.",
                "operationId": "dfe32b7f1b3d5b085ad1eb5ae400bf4e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "otp": {
                                        "type": "string"
                                    },
                                    "new_password": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "otp",
                                    "new_password"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password reset successfully"
                    },
                    "400": {
                        "description": "Invalid OTP or password format"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        }
    }
}