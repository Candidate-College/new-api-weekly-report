{
    "openapi": "3.0.0",
    "info": {
        "title": "Weekly Report API",
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/auth/send-otp": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Mengirim OTP ke email pengguna",
                "operationId": "c358d459679c0224ae15f9683dd9c67e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP dikirim ke email.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OTP dikirim ke email."
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "generated-token"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Gagal mengirim OTP.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Gagal mengirim OTP."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/verify-otp/{token}": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Verifikasi OTP untuk pengguna",
                "operationId": "53d8611404d4f8f42c07dde1e94e4898",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Token untuk verifikasi OTP",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "1234"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email berhasil diverifikasi.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email berhasil diverifikasi."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "OTP tidak valid atau kedaluwarsa.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OTP tidak valid atau kedaluwarsa."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/forgot-password": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Mengirim OTP untuk reset password",
                "operationId": "042000ff6d20fdc5057993760c2706f4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP dikirim untuk reset password.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OTP dikirim untuk reset password."
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "generated-token"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Gagal mengirim OTP.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Gagal mengirim OTP."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/reset-password/{token}": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Reset password menggunakan OTP",
                "operationId": "bf42ff4d210e02f97f84e8dce86cefa4",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Token untuk reset password",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "1234"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "newpassword"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "example": "newpassword"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password berhasil direset.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Password berhasil direset."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "OTP tidak valid atau kedaluwarsa.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OTP tidak valid atau kedaluwarsa."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reports/weekly": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get a user's weekly report",
                "description": "Fetches the weekly report for the authenticated user based on the specified week and month.",
                "operationId": "c7f6058d8da61ea69105dd665de95d9b",
                "parameters": [
                    {
                        "name": "week",
                        "in": "query",
                        "description": "The week number (1-4) within the month",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 4,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "month",
                        "in": "query",
                        "description": "The month number (1-12)",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "maximum": 12,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Weekly report retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid week number"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/daily": {
            "post": {
                "tags": [
                    "Reports"
                ],
                "summary": "Create a daily report",
                "description": "Allows the authenticated user to submit a daily report, but only on weekdays (Monday to Friday).",
                "operationId": "6e2bc889034a16df4632559f5f503a2f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content_text"
                                ],
                                "properties": {
                                    "content_text": {
                                        "description": "The content of the daily report",
                                        "type": "string"
                                    },
                                    "content_photo": {
                                        "description": "Optional photo for the daily report",
                                        "type": "file"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Daily report created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Daily report submission restricted to weekdays"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/reports/check": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Check if a daily report is submitted for today",
                "description": "Checks if the authenticated user has already submitted a daily report for the current day.",
                "operationId": "95f9c295830236b4a8c4746e29495242",
                "responses": {
                    "200": {
                        "description": "Daily report check successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                },
                                "example": {
                                    "success": true,
                                    "data": []
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/": {
            "get": {
                "summary": "Get a greeting",
                "description": "Returns a simple greeting message.",
                "operationId": "dcd4e5023e12e4a27d3c598111251a0a",
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                },
                                "example": "hello world"
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Authentication"
        },
        {
            "name": "Reports",
            "description": "Reports"
        }
    ]
}